CREATE TABLE roles (role_name VARCHAR NOT NULL, PRIMARY KEY (role_name))
CREATE TABLE users (user_id INTEGER NOT NULL, create_time TIMESTAMP, email VARCHAR, ldap_user INTEGER, user_name VARCHAR, user_password VARCHAR, PRIMARY KEY (user_id))
CREATE TABLE user_roles (role_name VARCHAR NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY (role_name, user_id))
ALTER TABLE users ADD CONSTRAINT UNQ_users_0 UNIQUE (user_name, ldap_user)
ALTER TABLE user_roles ADD CONSTRAINT FK_user_roles_user_id FOREIGN KEY (user_id) REFERENCES users (user_id)
ALTER TABLE user_roles ADD CONSTRAINT FK_user_roles_role_name FOREIGN KEY (role_name) REFERENCES roles (role_name)
CREATE TABLE gaia_sequences (sequence_name VARCHAR(50) NOT NULL, value NUMERIC(38), PRIMARY KEY (sequence_name))
INSERT INTO gaia_sequences(sequence_name, value) values ('user_id_seq', 1)
